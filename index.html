<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tràn bộ Nhớ</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <h1>Anh có điều muốn nói với iem</h1>
    <br>
    <button id="showWindows">Bấm vào đây xem</button>

    <script>
        document.getElementById('showWindows').addEventListener('click', function () {
            let windowCount = 0;
            const maxWindows = 10; // Số tab tối đa
            const openTabs = []; // Lưu trữ các tab đã mở để tránh tràn bộ nhớ

            const interval = setInterval(() => {
                if (windowCount < maxWindows) {
                    // Mở tab mới
                    const newTab = window.open('', '_blank');

                    if (newTab) {
                        openTabs.push(newTab); // Lưu tab để sau này có thể quản lý
                        newTab.document.write(`
                            <h1>Tràn bộ nhớ nhớ nhớ em :v</h1>
                        `);
                        newTab.document.close();
                    } else {
                        alert('Trình duyệt đang chặn popup/tab. Vui lòng bật popup để trải nghiệm!');
                        clearInterval(interval);
                        return;
                    }
                    windowCount++;
                } else {
                    clearInterval(interval);

                    // Tự động đóng tất cả các tab sau 10 giây
                    setTimeout(() => {
                        openTabs.forEach(tab => tab.close());
                    }, 10000);
                }
            }, 1000); // Mở tab mỗi giây
        });
    </script>
</body>

</html>
